\doxysection{win32\+\_\+window.\+h}
\hypertarget{win32__window_8h_source}{}\label{win32__window_8h_source}\index{windows/runner/win32\_window.h@{windows/runner/win32\_window.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ RUNNER\_WIN32\_WINDOW\_H\_}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ RUNNER\_WIN32\_WINDOW\_H\_}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <windows.h>}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <functional>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{comment}{//\ A\ class\ abstraction\ for\ a\ high\ DPI-\/aware\ Win32\ Window.\ Intended\ to\ be}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ inherited\ from\ by\ classes\ that\ wish\ to\ specialize\ with\ custom}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ rendering\ and\ input\ handling}}
\DoxyCodeLine{00013\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_win32_window}{Win32Window}}\ \{}
\DoxyCodeLine{00014\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00015\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_win32_window_1_1_point}{Point}}\ \{}
\DoxyCodeLine{00016\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ x;}
\DoxyCodeLine{00017\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ y;}
\DoxyCodeLine{00018\ \ \ \ \ \mbox{\hyperlink{struct_win32_window_1_1_point}{Point}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ x,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ y)\ :\ x(x),\ y(y)\ \{\}}
\DoxyCodeLine{00019\ \ \ \};}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_win32_window_1_1_size}{Size}}\ \{}
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ width;}
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ height;}
\DoxyCodeLine{00024\ \ \ \ \ \mbox{\hyperlink{struct_win32_window_1_1_size}{Size}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ width,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ height)}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ :\ width(width),\ height(height)\ \{\}}
\DoxyCodeLine{00026\ \ \ \};}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \ \ \mbox{\hyperlink{class_win32_window}{Win32Window}}();}
\DoxyCodeLine{00029\ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_win32_window}{\string~Win32Window}}();}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \ \ \textcolor{comment}{//\ Creates\ a\ win32\ window\ with\ |title|\ that\ is\ positioned\ and\ sized\ using}}
\DoxyCodeLine{00032\ \ \ \textcolor{comment}{//\ |origin|\ and\ |size|.\ New\ windows\ are\ created\ on\ the\ default\ monitor.\ Window}}
\DoxyCodeLine{00033\ \ \ \textcolor{comment}{//\ sizes\ are\ specified\ to\ the\ OS\ in\ physical\ pixels,\ hence\ to\ ensure\ a}}
\DoxyCodeLine{00034\ \ \ \textcolor{comment}{//\ consistent\ size\ this\ function\ will\ scale\ the\ inputted\ width\ and\ height\ as}}
\DoxyCodeLine{00035\ \ \ \textcolor{comment}{//\ as\ appropriate\ for\ the\ default\ monitor.\ The\ window\ is\ invisible\ until}}
\DoxyCodeLine{00036\ \ \ \textcolor{comment}{//\ |Show|\ is\ called.\ Returns\ true\ if\ the\ window\ was\ created\ successfully.}}
\DoxyCodeLine{00037\ \ \ \textcolor{keywordtype}{bool}\ Create(\textcolor{keyword}{const}\ std::wstring\&\ title,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_win32_window_1_1_point}{Point}}\&\ origin,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_win32_window_1_1_size}{Size}}\&\ size);}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \ \ \textcolor{comment}{//\ Show\ the\ current\ window.\ Returns\ true\ if\ the\ window\ was\ successfully\ shown.}}
\DoxyCodeLine{00040\ \ \ \textcolor{keywordtype}{bool}\ Show();}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \ \ \textcolor{comment}{//\ Release\ OS\ resources\ associated\ with\ window.}}
\DoxyCodeLine{00043\ \ \ \textcolor{keywordtype}{void}\ Destroy();}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \textcolor{comment}{//\ Inserts\ |content|\ into\ the\ window\ tree.}}
\DoxyCodeLine{00046\ \ \ \textcolor{keywordtype}{void}\ SetChildContent(HWND\ content);}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \ \ \textcolor{comment}{//\ Returns\ the\ backing\ Window\ handle\ to\ enable\ clients\ to\ set\ icon\ and\ other}}
\DoxyCodeLine{00049\ \ \ \textcolor{comment}{//\ window\ properties.\ Returns\ nullptr\ if\ the\ window\ has\ been\ destroyed.}}
\DoxyCodeLine{00050\ \ \ HWND\ GetHandle();}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \textcolor{comment}{//\ If\ true,\ closing\ this\ window\ will\ quit\ the\ application.}}
\DoxyCodeLine{00053\ \ \ \textcolor{keywordtype}{void}\ SetQuitOnClose(\textcolor{keywordtype}{bool}\ quit\_on\_close);}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \ \ \textcolor{comment}{//\ Return\ a\ RECT\ representing\ the\ bounds\ of\ the\ current\ client\ area.}}
\DoxyCodeLine{00056\ \ \ RECT\ GetClientArea();}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00059\ \ \ \textcolor{comment}{//\ Processes\ and\ route\ salient\ window\ messages\ for\ mouse\ handling,}}
\DoxyCodeLine{00060\ \ \ \textcolor{comment}{//\ size\ change\ and\ DPI.\ Delegates\ handling\ of\ these\ to\ member\ overloads\ that}}
\DoxyCodeLine{00061\ \ \ \textcolor{comment}{//\ inheriting\ classes\ can\ handle.}}
\DoxyCodeLine{00062\ \ \ \textcolor{keyword}{virtual}\ LRESULT\ MessageHandler(HWND\ window,}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ UINT\ \textcolor{keyword}{const}\ message,}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ WPARAM\ \textcolor{keyword}{const}\ wparam,}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LPARAM\ \textcolor{keyword}{const}\ lparam)\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ \textcolor{comment}{//\ Called\ when\ CreateAndShow\ is\ called,\ allowing\ subclass\ window-\/related}}
\DoxyCodeLine{00068\ \ \ \textcolor{comment}{//\ setup.\ Subclasses\ should\ return\ false\ if\ setup\ fails.}}
\DoxyCodeLine{00069\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ OnCreate();}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \textcolor{comment}{//\ Called\ when\ Destroy\ is\ called.}}
\DoxyCodeLine{00072\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ OnDestroy();}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00075\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_window_class_registrar}{WindowClassRegistrar}};}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \ \ \textcolor{comment}{//\ OS\ callback\ called\ by\ message\ pump.\ Handles\ the\ WM\_NCCREATE\ message\ which}}
\DoxyCodeLine{00078\ \ \ \textcolor{comment}{//\ is\ passed\ when\ the\ non-\/client\ area\ is\ being\ created\ and\ enables\ automatic}}
\DoxyCodeLine{00079\ \ \ \textcolor{comment}{//\ non-\/client\ DPI\ scaling\ so\ that\ the\ non-\/client\ area\ automatically}}
\DoxyCodeLine{00080\ \ \ \textcolor{comment}{//\ responds\ to\ changes\ in\ DPI.\ All\ other\ messages\ are\ handled\ by}}
\DoxyCodeLine{00081\ \ \ \textcolor{comment}{//\ MessageHandler.}}
\DoxyCodeLine{00082\ \ \ \textcolor{keyword}{static}\ LRESULT\ CALLBACK\ WndProc(HWND\ \textcolor{keyword}{const}\ window,}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ UINT\ \textcolor{keyword}{const}\ message,}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ WPARAM\ \textcolor{keyword}{const}\ wparam,}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LPARAM\ \textcolor{keyword}{const}\ lparam)\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \ \ \textcolor{comment}{//\ Retrieves\ a\ class\ instance\ pointer\ for\ |window|}}
\DoxyCodeLine{00088\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{class_win32_window}{Win32Window}}*\ GetThisFromHandle(HWND\ \textcolor{keyword}{const}\ window)\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ \textcolor{comment}{//\ Update\ the\ window\ frame's\ theme\ to\ match\ the\ system\ theme.}}
\DoxyCodeLine{00091\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ UpdateTheme(HWND\ \textcolor{keyword}{const}\ window);}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \ \ \textcolor{keywordtype}{bool}\ quit\_on\_close\_\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \ \ \textcolor{comment}{//\ window\ handle\ for\ top\ level\ window.}}
\DoxyCodeLine{00096\ \ \ HWND\ window\_handle\_\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \ \ \textcolor{comment}{//\ window\ handle\ for\ hosted\ content.}}
\DoxyCodeLine{00099\ \ \ HWND\ child\_content\_\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00100\ \};}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ RUNNER\_WIN32\_WINDOW\_H\_}}

\end{DoxyCode}
